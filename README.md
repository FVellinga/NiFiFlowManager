# NiFi Flow Manager
An extracting tool to merge single <i>data flows</i> into one <i>merged flow</i>.

<p>It is C# Windows Forms .NET tray application. It is assummed you have the latest .NET framework installed.</p>

<p>Install everything (except for the .gitignore file) in a directory of your choice. Every form has a <b>F1</b> to show help information.</p>

# Background usage

<p><b>NiFi</b> has one canvas which uses instant auto-saving when you edit a dataflow. Everything is recorded in one compressed file: <font color='blue'><b>flow.xml.gz</b></font> saved at one particular location, the <i>config directory</i>. When you have 100 dataflows, it is all in one file. To manage all the <b>NiFi flows</b>, an approach is to develop, test and maintain each dataflow as a separate flow, and then later on, merge all the separate flows together into one flow, the <i>merged flow</i>, which becomes your production flow. This can be done as long as each dataflow is encapsulated in a so-called <i>process group<i>, which can be nested. As long as a dataflow has only one main process group, you can extract the <i>process group</i> from the <i>data flow</i>, and merge them all together into the <i>merged flow.</i></p>
<p>You need one flow, the <i>common flow</i>, where all extracted flow data is added to. The <i>common flow</i> must not contain a <i>process group</i>. The <i>common flow</i> contains all the shared parameters (which can be encrypted, passwords etc.) that can be used by the <i>data flows</i>. It is an 'empty' flow, which is filled with extracts from the <i>data flows</i>, which become the <i>merged flow</i>. One <i>data flow</i> should be developed as a fully self-supporting stand-alone flow. When you use parameters, you have to maintain them also in the <i>common flow</i>. The <i>common flow</i> is not overwritten. The <i>merged flow<i> is, but you can make new ones.</p> 
<p>The <b>NiFi Flow Manager</b> application automates this approach. It is a fully file-driven approach. It operates on the file system. When you have 100 flows, you have 100 <font color='blue'><b>flow.xml.gz</b></font> files, all stored at a different subdirectory. When you want to edit a flow, you copy the flow to the <i>config directory</i> where <b>NiFi</b> read the flows: A <b>PUSH</b> operation. When you are done, you copy the flow back to the subdirectory: A <b>PULL</b> operation. Once the <i>merged flow</i> is created, you can edit that one to.</p>
<p>This means that you can use a version issue system, for instance <b>GitHub</b> or <b>SourceTree</b>. Many people can work on the same flow.</p>
<p>Allthough this approach works, there is a drawback; everytime you make a change in a <i>data flow</i>, and want to bring the change in production, you have to update the <i>merged flow</i> too. One change affects all. It is very easy to make a new <i>merged flow</i>. But to bring it in production, you have to shut down <b>Nifi</b> first and then do a file replace and re-start <b>NiFi</b>.</p>
